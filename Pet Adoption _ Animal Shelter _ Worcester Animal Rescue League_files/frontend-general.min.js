function nitroThumb(t){return('<img src="'+document.getElementById(t).getAttribute("data-thumb")+'" alt="'+document.getElementById(t).getAttribute("data-thumbalt")+'">').replace("ID",t)+'<a href="#" class="et_pb_video_play"></a>'}function machineYoutubeFrame(t){t.preventDefault();var a=document.createElement("iframe");a.setAttribute("src","https://www.youtube.com/embed/ID?autoplay=1&mute=1".replace("ID",this.dataset.id)),a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen","1"),a.setAttribute("allowfullscreen","1"),this.parentNode.replaceChild(a,this)}function machineVimeoFrame(t){t.preventDefault();var a=document.createElement("iframe");a.setAttribute("src","https://player.vimeo.com/video/ID?autoplay=1&muted=1".replace("ID",this.dataset.id)),a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen","1"),a.setAttribute("allowfullscreen","1"),this.parentNode.replaceChild(a,this)}function get_post_popup(){if(jQuery(".dmach-popup").remove(),jQuery(".show_modal").length>0){jQuery(".show_modal").eq(0).attr("data-modal-layout");var t=jQuery(".show_modal").eq(0).attr("data-modal-style"),a=jQuery(".show_modal").eq(0).attr("data-modal-postype"),e=[],s=[],i=jQuery(".show_modal").eq(0).closest(".divi-filter-archive-loop").attr("data-posttype");jQuery(".show_modal").each(function(){var t=jQuery(this).attr("data-id"),a=jQuery(this).attr("data-modal-layout"),i=s.indexOf(a);-1!=i?e[i].push(t):(s.push(a),e.push([t]))}),jQuery(".et-l--body").length?jQuery(".et-l--body").append('<div id="dmach-modal-wrapper" class="'+t+' loading"><div id="loading-modal" modallayout-id="" modaldata-id="" class="dmach-popup"><div class="post-modal-cont"><div class="modal-close"></div><div class="et_pb_section"><div class="et_pb_row"><div class="et_pb_column et_pb_column_4_4"><div class="filtered-posts-loading load-3"><span class="line"></span><span class="line"></span><span class="line"></span></div></div></div></div></div></div></div>'):jQuery("#page-container").append('<div id="dmach-modal-wrapper" class="'+t+' loading"><div id="loading-modal" modallayout-id="" modaldata-id="" class="dmach-popup"><div class="post-modal-cont"><div class="modal-close"></div><div class="et_pb_section"><div class="et_pb_row"><div class="et_pb_column et_pb_column_4_4"><div class="filtered-posts-loading load-3"><span class="line"></span><span class="line"></span><span class="line"></span></div></div></div></div></div></div></div>');var o={action:"divi_filter_get_post_modal_ajax_handler",security:filter_ajax_object.security,post_ids:JSON.stringify(e),post_type:i,modal_layout:JSON.stringify(s),modal_postype:a};jQuery("body").addClass("hide_update_content_modal"),jQuery(".show_modal").click(function(t){t.preventDefault(),t.stopPropagation(),"off"==jQuery(this).attr("update_content_show_start")&&jQuery("body").removeClass("hide_update_content_modal");var a=jQuery(this).attr("data-id"),e=jQuery(this).attr("loading_animation_color"),s=jQuery(this).attr("modal_type"),i=jQuery(this).attr("data-modal-layout");if("update_content"==s){jQuery(".dmach_content_update").each(function(){jQuery(this).hide(),jQuery(this).removeClass("open")}),jQuery("#post-modal-"+i+"-"+a).length?jQuery("#post-modal-"+i+"-"+a).addClass("open"):(jQuery("#loading-modal").attr("modaldata-id",a),jQuery("#loading-modal").attr("modallayout-id",i),jQuery("#loading-modal").addClass("open"));var o=jQuery(".dmach_content_update_cont"),d=parseInt("0px");jQuery("html, body").animate({scrollTop:o.offset().top-d},500)}else""!==e&&jQuery("#loading-modal .line").each(function(t,a){jQuery(this).css("background-color",e)}),jQuery("#post-modal-"+i+"-"+a).length?jQuery("#post-modal-"+i+"-"+a).addClass("open"):(jQuery("#loading-modal").attr("modaldata-id",a),jQuery("#loading-modal").attr("modallayout-id",i),jQuery("#loading-modal").addClass("open")),jQuery("html").css("overflow","hidden")}),jQuery.ajax({url:filter_ajax_object.ajax_url,data:o,type:"POST",dataType:"JSON",success:function(a){if(jQuery("body").find("#dmach-modal-wrapper:not(.loading)").remove(),jQuery("#dmach-modal-wrapper.loading").length||(jQuery(".et-l--body").length?jQuery(".et-l--body").append('<div id="dmach-modal-wrapper" class="'+t+'"></div>'):jQuery("#page-container").append('<div id="dmach-modal-wrapper" class="'+t+'"></div>')),jQuery(".show_modal").each(function(){var t=jQuery(this).attr("modal_type"),e=jQuery(this).attr("update_content_pos"),s=jQuery(this).attr("data-modal-layout"),i=jQuery(this).attr("data-id");if("update_content"==t?"above"==e?(jQuery(".update_content_loop .dmach-before-posts").addClass("dmach_content_update_cont"),jQuery(".update_content_loop .dmach-before-posts").append('<div id="post-modal-'+s+"-"+i+'" class="dmach_content_update"><div class="post-modal-cont">'+a.content["show_modal_"+s+"_"+i]+"</div></div>")):(jQuery(".update_content_loop .dmach-after-posts").addClass("dmach_content_update_cont"),jQuery(".update_content_loop .dmach-after-posts").append('<div id="post-modal-'+s+"-"+i+'" class="dmach_content_update"><div class="post-modal-cont">'+a.content["show_modal_"+s+"_"+i]+"</div></div>")):jQuery("#dmach-modal-wrapper").append('<div id="post-modal-'+s+"-"+i+'" class="dmach-popup"><div class="post-modal-cont"><div class="modal-close"></div>'+a.content["show_modal_"+s+"_"+i]+'<div class="dmach-nextprev-post"><div class="dmach-prev-post"></div><div class="dmach-next-post"></div></div></div></div>'),jQuery("#post-modal-"+s+"-"+i).find(".et_pb_map_container").length>0){var o={},d={};jQuery("#post-modal-"+s+"-"+i).find(".et_pb_map_container").each(function(){d[s][i]=jQuery(this),"function"!=typeof et_pb_map_init?o[s][i]=setInterval(function(){"function"==typeof et_pb_map_init&&(et_pb_map_init(d[s][i]),clearInterval(o[s][i]))},1e3):et_pb_map_init(jQuery(this))})}}),jQuery("#dmach-modal-wrapper.loading").length){var e=jQuery("#loading-modal").attr("modaldata-id"),s=jQuery("#loading-modal").attr("modallayout-id");jQuery("#dmach-modal-wrapper").removeClass("loading"),jQuery("#loading-modal").removeClass("open"),jQuery("#post-modal-"+s+"-"+e).addClass("open")}jQuery("#dmach-modal-wrapper").append(a.css_output);var i=jQuery("#dmach-modal-wrapper");if(i.find(".dmach-popup").find(".gallery_vars").length>0){var o=i.find(".dmach-popup").find(".gallery_vars").attr("data-gallery_vars"),d=i.find(".dmach-popup").find(".gallery_vars").attr("data-gallery_type");if(o=JSON.parse(o="{"+(o=(o=(o=o.replace(/,\s*$/,"")).replace(/,/g,", ")).replace(/'/g,'"'))+"}"),jQuery(".et_pb_de_mach_acf_slider_containter").each(function(t,a){jQuery(this).hasClass("slick-initialized")&&jQuery(this).slick("unslick"),jQuery(this).slick(o)}),"gallery"==d){var n=i.find(".dmach-popup").find(".gallery_vars").attr("data-gallery_nav");(n=JSON.parse(n="{"+(n=(n=(n=n.replace(/,\s*$/,"")).replace(/,/g,", ")).replace(/'/g,'"'))+"}")).asNavFor=".et_pb_de_mach_acf_slider_containter",n.focusOnSelect=!0,jQuery(".et_pb_de_mach_acf_slider_containter_nav").each(function(t,a){jQuery(this).hasClass("slick-initialized")&&jQuery(this).slick("unslick"),jQuery(this).slick(n)})}}jQuery(".et_pb_gallery_image a").magnificPopup({type:"image"}),resizeAllGridItems(),jQuery("#dmach-modal-wrapper .dmach-popup").each(function(t,a){jQuery(this).find(".wpcf7-form").length>0&&wpcf7.init(jQuery(this).find(".wpcf7-form"))}),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()}),jQuery.event.trigger({type:"divi_machine_modal_loaded"})}})}}function same_height_cards(){jQuery(".same-height-cards .filtered-posts").each(function(){var t=0;jQuery(".grid-col",this).each(function(){jQuery(this).height()>t&&(t=jQuery(this).height())});var a=jQuery(this).find(".et_pb_section").css("marginBottom");jQuery(".grid-col",this).height(t),jQuery(".grid-col",this).css("margin-bottom",a)})}document.addEventListener("DOMContentLoaded",function(){var t,a,e=document.getElementsByClassName("de_demach_youtube_listener");for(a=0;a<e.length;a++)(t=document.createElement("div")).setAttribute("data-id",e[a].dataset.id),t.innerHTML=nitroThumb(e[a].dataset.id),t.onclick=machineYoutubeFrame,e[a].appendChild(t)}),document.addEventListener("DOMContentLoaded",function(){var t,a,e=document.getElementsByClassName("de_demach_vimeo_listener");for(a=0;a<e.length;a++)(t=document.createElement("div")).setAttribute("data-id",e[a].dataset.id),t.innerHTML=nitroThumb(e[a].dataset.id),t.onclick=machineVimeoFrame,e[a].appendChild(t)}),jQuery(document).ready(function(t){void 0!==t.fn.magnificPopup&&t(".et_pb_de_mach_gallery_trigger").magnificPopup({type:"inline",midClick:!0}),t(document.body).on("click",".dmach-link-whole-grid-card",function(){var a=t(this).data("link-url");window.location.href=a}),main_count=Number(0),t(".dmach-search-items").each(function(a,e){main_count=Number(0),t(this).children(".et_pb_de_mach_search_posts_item").each(function(a,e){(main_count+=Number(t(this).find(".search_filter_cont").attr("data-count")))>="100"&&(t(this).addClass("last-item"),main_count=Number(0))})}),t(".search_filter_cont").removeClass("hidden"),t(".button_container").removeClass("hidden"),t("#select_post_types").on("change",function(){var a=this.value;t("#search_post_type").val(a)});var a=t(".filtered-posts").attr("data-columns");t(".filtered-posts").find(".et_pb_column").addClass(a),t(window).click(function(){t(".et_pb_de_mach_search_posts_item").removeClass("visible")}),t(".et_pb_de_mach_search_posts_item").click(function(t){t.stopPropagation()}),t(".dmach-filer-toggle .et_pb_contact_field_options_title ").click(function(a){t(this).closest(".et_pb_de_mach_search_posts_item").hasClass("visible")?t(".et_pb_de_mach_search_posts_item").removeClass("visible"):(t(".et_pb_de_mach_search_posts_item").removeClass("visible"),t(this).closest(".et_pb_de_mach_search_posts_item").addClass("visible"))}),t(".dmach-tag-cloud a").click(function(a){var e=t(this).attr("class").match(/tag-link-[\w-]*\b/);t(this).closest(".dmach-tag-cloud").find("select").val(e),t(this).closest(".dmach-tag-cloud").find("select").trigger("change")}),get_post_popup()}),jQuery(document).on("click",".dmach-popup .modal-close",function(t){t.preventDefault(),jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery("html").css("overflow","auto"),jQuery("a").css("pointer-events","none"),setTimeout(function(){jQuery("a").css("pointer-events","")},100)}),jQuery(document).on("touchstart click",".dmach-popup",function(){jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery("html").css("overflow","auto"),jQuery("a").css("pointer-events","none"),setTimeout(function(){jQuery("a").css("pointer-events","")},100)}),jQuery(document).on("touchstart click",".post-modal-cont",function(t){t.stopPropagation()}),jQuery(document).on("touchstart click",".dmach-next-post",function(t){jQuery(this).closest(".dmach-popup").next(".dmach-popup").length?(jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery(this).closest(".dmach-popup").next(".dmach-popup").addClass("open")):(jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery("html").css("overflow","auto"))}),jQuery(document).on("touchstart click",".dmach-prev-post",function(t){jQuery(this).closest(".dmach-popup").prev(".dmach-popup").length?(jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery(this).closest(".dmach-popup").prev(".dmach-popup").addClass("open")):(jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery("html").css("overflow","auto"))}),jQuery(document).ready(function(t){t("span.hidethis").each(function(){var a=t(this).attr("data-hide_option");if(void 0!==a){if("hide_parent_row"==a)t(this).parents(".et_section_specialty").length?(t(this).closest(".et_pb_row_inner").hide(),t(this).closest(".et_pb_row_inner").addClass("hidethis")):(t(this).closest(".et_pb_row").hide(),t(this).closest(".et_pb_row").addClass("hidethis"));else if("hide_parent_section"==a)t(this).closest(".et_pb_section").hide(),t(this).closest(".et_pb_section").addClass("hidethis");else if("hide_element"==a){var e=t(this).attr("data-hide_target");t(e).hide(),t(e).addClass("hidethis")}}})}),jQuery(document).on("divi_filter_completed",function(){jQuery("span.hidethis").each(function(){var t=jQuery(this).attr("data-hide_option");if(void 0!==t){if("hide_parent_row"==t)jQuery(this).parents(".et_section_specialty").length?(jQuery(this).closest(".et_pb_row_inner").hide(),jQuery(this).closest(".et_pb_row_inner").addClass("hidethis")):(jQuery(this).closest(".et_pb_row").hide(),jQuery(this).closest(".et_pb_row").addClass("hidethis"));else if("hide_parent_section"==t)jQuery(this).closest(".et_pb_section").hide(),jQuery(this).closest(".et_pb_section").addClass("hidethis");else if("hide_element"==t){var a=jQuery(this).attr("data-hide_target");jQuery(a).hide(),jQuery(a).addClass("hidethis")}}})}),jQuery(document).ready(function(t){var a=t(".et_pb_countdown_timer");window.et_countdown_timer=function(t){var a,e=parseInt(t.attr("data-end-timestamp"))-new Date().getTime()/1e3;days=(days=parseInt(e/86400))>0?days:0,e%=86400,hours=(hours=parseInt(e/3600))>0?hours:0,e%=3600,minutes=(minutes=parseInt(e/60))>0?minutes:0,seconds=(seconds=parseInt(e%60))>0?seconds:0;var s=t.find(".days > .value").parent(".section"),i=t.find(".hours > .value").parent(".section"),o=t.find(".minutes > .value").parent(".section"),d=t.find(".seconds > .value").parent(".section");0==days?s.hasClass("zero")||t.find(".days > .value").html("000").parent(".section").addClass("zero").next().addClass("zero"):(days_slice=days.toString().length>=3?days.toString().length:3,t.find(".days > .value").html(("000"+days).slice(-days_slice)),s.hasClass("zero")&&s.removeClass("zero").next().removeClass("zero")),0==days&&0==hours?i.hasClass("zero")||t.find(".hours > .value").html("00").parent(".section").addClass("zero").next().addClass("zero"):(t.find(".hours > .value").html(("0"+hours).slice(-2)),i.hasClass("zero")&&i.removeClass("zero").next().removeClass("zero")),0==days&&0==hours&&0==minutes?o.hasClass("zero")||t.find(".minutes > .value").html("00").parent(".section").addClass("zero").next().addClass("zero"):(t.find(".minutes > .value").html(("0"+minutes).slice(-2)),o.hasClass("zero")&&o.removeClass("zero").next().removeClass("zero")),0==days&&0==hours&&0==minutes&&0==seconds?d.hasClass("zero")||t.find(".seconds > .value").html("00").parent(".section").addClass("zero"):(t.find(".seconds > .value").html(("0"+seconds).slice(-2)),d.hasClass("zero")&&d.removeClass("zero").next().removeClass("zero"))},window.et_countdown_timer_labels=function(t){t.closest(".et_pb_column_3_8").length||t.closest(".et_pb_column_1_4").length||400>=t.children(".et_pb_countdown_timer_container").width()?(t.find(".days .label").html(t.find(".days").data("short")),t.find(".hours .label").html(t.find(".hours").data("short")),t.find(".minutes .label").html(t.find(".minutes").data("short")),t.find(".seconds .label").html(t.find(".seconds").data("short"))):(t.find(".days .label").html(t.find(".days").data("full")),t.find(".hours .label").html(t.find(".hours").data("full")),t.find(".minutes .label").html(t.find(".minutes").data("full")),t.find(".seconds .label").html(t.find(".seconds").data("full")))},a.length&&(window.et_pb_countdown_timer_init=function(a){a.each(function(){var a=t(this);et_countdown_timer_labels(a),et_countdown_timer(a),setInterval(function(){et_countdown_timer(a)},1e3)})},et_pb_countdown_timer_init(a))}),jQuery(document).ready(function(t){jQuery(document).on("divi_filter_completed",function(){var a=t(".et_pb_countdown_timer");a.length&&(window.et_pb_countdown_timer_init=function(a){a.each(function(){var a=t(this);et_countdown_timer_labels(a),et_countdown_timer(a),setInterval(function(){et_countdown_timer(a)},1e3)})},et_pb_countdown_timer_init(a));var e=t(".et_pb_tabs"),s=t("body").hasClass("et-fb");(e.length||s)&&(window.et_pb_tabs_init=function(a){var e=a.find(".et_pb_tabs_controls li");a.et_pb_simple_slider({use_controls:!1,use_arrows:!1,slide:".et_pb_all_tabs > div",tabs_animation:!0}).on("et_hashchange",function(a){var e=a.params,s=t("#"+a.target.id),i=e[0];s.find(".et_pb_tabs_controls li").eq(i).hasClass("et_pb_tab_active")||s.find(".et_pb_tabs_controls li").eq(i).click()}),e.click(function(){var a=t(this),e=a.closest(".et_pb_tabs").data("et_pb_simple_slider");if(e.et_animation_running)return!1;if(a.addClass("et_pb_tab_active").siblings().removeClass("et_pb_tab_active"),e.data("et_pb_simple_slider").et_slider_move_to(a.index()),a.closest(".et_pb_tabs").attr("id")){var s=[];s.push(a.closest(".et_pb_tabs").attr("id")),s.push(a.index()),et_set_hash(s=s.join(et_hash_module_param_seperator))}return!1})},window.et_pb_tabs_init(e))})}),jQuery(document).ready(function(t){function a(a,e){if(a.hasClass("loading"))return!1;var s=a.closest(".et_pb_de_mach_acf_slider "),i=s.find(".grid-item").attr("data-grid-image-ids"),o=s.find(".grid-item").attr("data-load-more-num"),d=s.find(".grid-item").attr("data-enable_lightbox"),n=s.find(".grid-item").attr("data-show_title_and_caption"),l=a.attr("data-loading_text"),c=a.text();t.ajax({url:filter_ajax_object.ajax_url,data:{action:"divi_filter_load_more_gallery_ajax_handler",data_grid_image_ids:i,data_load_more_num:o,enable_lightbox:d,show_title_and_caption:n},type:"POST",dataType:"JSON",beforeSend:function(){a.addClass("loading"),a.attr("disabled","disabled"),a.text(l)},success:function(i){if(a.removeClass("loading"),s.find(".grid-item").attr("data-grid-image-ids",i.ids),s.find(".grid-posts").append(i.content),a.text(c),0==i.data_load_more_num&&a.hide(),resizeAllGridItems(),setTimeout(function(){resizeAllGridItems()},500),setTimeout(function(){resizeAllGridItems(),t(".masonry").addClass("resized")},1500),void 0!==t.fn.magnificPopup&&""!=i.gallery_image_urls&&!0==e){var o=t.magnificPopup.instance;t.each(i.gallery_image_urls,function(t,a){o.items.push({src:a})}),o.updateItemHTML()}else console.log("magnificPopup not defined")}})}t(document.body).on("click",".et_pb_de_mach_load_more_button_link",function(e){var s;e.preventDefault(),a(t(this),!1)}),t(document.body).on("click",".mfp-arrow",function(e){var s,i=t(".mfp-img").attr("src"),o=t(".et_pb_gallery_items .grid-item:nth-last-child(2) img").attr("src");if(i==o){console.log("load more"),a(t(".et_pb_de_mach_load_more_button_link"),!0)}}),t(document).keydown(function(e){if(39===e.which){var s,i=t(".mfp-img").attr("src"),o=t(".et_pb_gallery_items .grid-item:nth-last-child(2) img").attr("src");if(i==o){console.log("load more"),a(t(".et_pb_de_mach_load_more_button_link"),!0)}}})});